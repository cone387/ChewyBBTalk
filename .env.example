# ================================
# ChewyBBTalk 环境变量配置
# ================================
# 此文件同时用于 deploy.sh 和 docker-compose.yml
# 复制为 .env 或 .env.dev / .env.prod 使用

# ================================
# 基础配置
# ================================

# 运行环境: dev / prod / test
ENV=dev

# 调试模式（生产环境设为 false）
DEBUG=true

# ================================
# Django 配置
# ================================

# Django settings 模块（固定值，一般不需修改）
DJANGO_SETTINGS_MODULE=chewy_space.settings

# 自定义配置模块（根据 ENV 自动设置，也可手动指定）
# CHEWYBBTALK_SETTINGS_MODULE=configs.dev_settings

# Django 密钥（生产环境必须修改）
SECRET_KEY=change-this-to-a-random-secret-key-in-production

# 允许访问的主机（逗号分隔，生产环境必须指定）
ALLOWED_HOSTS=*

# 数据库连接
DATABASE_URL=sqlite:///./db.sqlite3
# DATABASE_URL=postgresql://user:password@localhost:5432/chewybbtalk

# CORS 允许的源（逗号分隔）
CORS_ALLOWED_ORIGINS=http://localhost:4010,http://localhost:3000,http://127.0.0.1:4010

# 语言和时区
LANGUAGE_CODE=zh-hans
TIME_ZONE=Asia/Shanghai

# ================================
# 服务端口
# ================================

# Docker 对外暴露端口（唯一入口）
PORT=8020

# 后端内部端口（仅开发环境使用）
BACKEND_PORT=8000
BACKEND_HOST=0.0.0.0

# 前端内部端口（仅开发环境使用）
FRONTEND_PORT=4010

# ================================
# Docker 数据目录配置
# ================================

# 数据存储根目录（相对于项目根目录）
DATA_DIR=./data

# Authelia 配置目录
AUTHELIA_CONFIG_DIR=./authelia

# Nginx 配置文件路径
NGINX_CONF=./nginx.conf

# 后端配置目录（只读挂载）
BACKEND_CONFIGS_DIR=./backend/chewy_space/configs

# ================================
# Authelia 配置（生产环境必须修改）
# ================================

# Session 密钥（至少32个字符）
AUTHELIA_SESSION_SECRET=change-this-to-a-random-string-at-least-32-chars

# 加密密钥（至少20个字符）
AUTHELIA_ENCRYPTION_KEY=you_must_generate_a_random_string_of_more_than_twenty_chars

# ================================
# 媒体文件配置
# ================================

# 媒体文件 URL 前缀
MEDIA_URL=/media/
