# 开发环境配置文件
# 用于 docker-compose.dev.yml

# ==========================================
# 服务运行模式配置
# ==========================================
# container: 在容器中运行（默认）
# host: 在本地运行（需手动启动服务）

# 前端运行模式
FRONTEND_MODE=container
# 前端地址（容器内：frontend:5173，本地：host.docker.internal:4010）
FRONTEND_UPSTREAM=frontend:5173

# 后端运行模式
BACKEND_MODE=container
# 后端地址（容器内：backend:8000，本地：host.docker.internal:8000）
BACKEND_UPSTREAM=backend:8000

# ==========================================
# Nginx 配置
# ==========================================
# 对外暴露端口
PORT=8020

# 是否启用 HTTPS（需要本地证书）
ENABLE_HTTPS=true
# HTTPS 端口
HTTPS_PORT=8443

# ==========================================
# Authelia 配置
# ==========================================
# 是否启用 Authelia 认证
ENABLE_AUTHELIA=true

AUTHELIA_IMAGE=authelia/authelia:4.37
AUTHELIA_SESSION_SECRET=dev-session-secret-at-least-32-characters
AUTHELIA_STORAGE_ENCRYPTION_KEY=dev-encryption-key-20chars-here
AUTHELIA_JWT_SECRET=dev-jwt-secret-at-least-32-characters
AUTHELIA_SESSION_DOMAIN=localhost
AUTHELIA_DEFAULT_REDIRECTION_URL=https://localhost:8443
X_AUTHELIA_CONFIG_FILTERS=template

# OIDC 配置
AUTHELIA_OIDC_HMAC_SECRET=dev-oidc-hmac-secret-at-least-32-characters-long

# ==========================================
# 数据库配置
# ==========================================
DATABASE_URL=sqlite:///db.sqlite3

# ==========================================
# CORS 配置
# ==========================================
# 开发环境允许所有来源
CORS_ORIGIN_ALLOW_ALL=True
